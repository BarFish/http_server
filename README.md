# Custom Python HTTP Server

שרת HTTP בסיסי מבוסס Sockets, התומך בקבצים סטטיים, הפניות, חסימות ועיבוד בקשות דינמיות.

## איך מריצים את השרת
1. **פקודת הרצה:** `python server.py`
2. **פורט:** `8080` (יש לוודא שהפורט פנוי).
3. **תיקיית Webroot:** השרת מחפש תיקייה בשם `webroot` באותו נתיב בו נמצא הקובץ `server.py`.
   * קבצים שהועלו נשמרים ב-`webroot/uploads`.

---

## רשימת המשאבים הנתמכים

| משאב / URL | מתודה | תיאור |
| :--- | :--- | :--- |
| `/` | `GET` | מחזיר את `index.html` (דף הבית). |
| `/<static-filename>.<type>` | `GET` | מחזיר קבצים סטטיים מתוך תיקיית `webroot` (למשל `style.css`, `image.jpg`). |
| `/next-calculate?num=X` | `GET` | מחזיר את המספר העוקב ל-`X`. |
| `/calculate-area?height=H&width=W` | `GET` | מחשב שטח משולש לפי גובה ורוחב (`H*W/2`). |
| `/upload?file-name=NAME` | `POST` | מעלה קובץ בינארי לשרת ושומר אותו בתיקיית `uploads`. |
| `/image?image-name=NAME` | `GET` | מחזיר תמונה שנשמרה בתיקיית `uploads`. |

---

## החלטות חשובות ומיפויים

### 1. מיפוי Content-Type
השרת קובע את סוג התוכן לפי סיומת הקובץ המבוקש:
* **.html / .txt:** `text/html; charset=utf-8`
* **.jpg:** `image/jpeg`
* **.js:** `text/javascript; charset=UTF-8`
* **.css:** `text/css`

### 2. קבצים חסומים (Status 403)
* **הקובץ:** `webroot/secret.html`
* **התוצאה:** השרת יחזיר שגיאת `403 Forbidden` והגישה תימנע.

### 3. הפניות (Status 302)
* **הקובץ:** `webroot/page1.html`
* **ההפניה:** הלקוח יופנה אוטומטית ל-`/index.html`.

### 4. קבצים שלא נמצאו (Status 404)
* **מתי מוחזר:** כאשר הנתיב המבוקש אינו קיים כקובץ בתיקייה ואינו נתיב מיוחד.
* **התגובה:** השרת מחזיר `404 Not Found` עם הודעת שגיאה בטקסט פשוט.

### 5. טיפול בשגיאות שרת (Status 500)
* מוחזר במצב של חריגה (Exception) כללית בקוד השרת (למשל, שגיאה בקריאת קובץ שאינה קשורה לאי-קיום הקובץ, או שגיאת חישוב לא צפויה).

---

## הערות ומגבלות
* **Timeout:** מוגדר ל-5 שניות לכל חיבור (`SOCKET_TIMEOUT`).
* **בחירת פורט (8080):** פורט 80 הוא פורט שהמחשב משתמש בו ונמצא בטווח השמור (0-1023). לכן, בחרתי בפורט 8080 שנמצא **מחוץ לטווח** זה, כדי למנוע התנגשויות עם המערכת.